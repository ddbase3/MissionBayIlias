{
	"nodes": [
		{ "id": "embedding", "type": "aiembeddingnode", "docks": {
			"extractor": [ "extractor" ],
			"parser": [ "fileparser", "pageparser", "courseparser", "parser" ],
			"chunker": [ "chunker" ],
			"embedder": [ "embeddingcache" ],
			"vectordb": [ "vectordb" ],
			"logger": [ "logger" ]
		}, "inputs": {
			"mode": "replace",
			"debug": true,
			"debug_preview_len": 180
		}}
	],
	"resources": [
		{ "id": "extractor", "type": "iliasembeddingqueueextractoragentresource", "config": {
			"claim_limit": { "mode": "fixed", "value": 3 }
		}},

		{ "id": "fileparser", "type": "iliasfileunstructuredparseragentresource", "config": {
			"endpoint": { "mode": "config", "section": "base3unstructured", "key": "endpoint" },
			"apikey": { "mode": "config", "section": "base3unstructured", "key": "apikey" },
			"timeout_seconds": { "mode": "fixed", "value": 90 },
			"max_bytes": { "mode": "fixed", "value": 0 }
		}},
		{ "id": "pageparser", "type": "iliaspageparseragentresource" },
		{ "id": "courseparser", "type": "iliascourseparseragentresource" },
		{ "id": "parser", "type": "structuredobjectparseragentresource" },

		{ "id": "chunker", "type": "iliaschunkeragentresource", "config": {
			"max_length": { "mode": "fixed", "value": 1500 },
			"min_length": { "mode": "fixed", "value": 500 },
			"overlap": { "mode": "fixed", "value": 50 }
		}},

		{ "id": "embeddingcache", "type": "embeddingcacheagentresource", "docks": {
			"embedding": [ "embedder" ]
		}, "config": {
			"model": { "mode": "fixed", "value": "text-embedding-3-large" }
		}},
		{ "id": "embedder", "type": "qualitusembeddingproxyagentresource", "config": {
			"endpoint": { "mode": "config", "section": "qualitusembedding", "key": "endpoint" },
			"apikey": { "mode": "config", "section": "qualitusembedding", "key": "apikey" },
			"model": { "mode": "fixed", "value": "text-embedding-3-large" }
		}},

		{ "id": "vectordb", "type": "qualitusqdrantvectorstoreagentresource", "config": {
			"endpoint": { "mode": "config", "section": "qualitusvectordb", "key": "endpoint" },
			"apikey": { "mode": "config", "section": "qualitusvectordb", "key": "apikey" },
			"create_payload_indexes": { "mode": "fixed", "value": true }
		}},
		{ "id": "debugvectordb", "type": "consolevectorstoreagentresource", "config": {
			"vector_preview_dims": { "mode": "fixed", "value": 16 },
			"vector_preview_decimals": { "mode": "fixed", "value": 4 },
			"payload_preview_bytes": { "mode": "fixed", "value": 1200 },
			"text_preview_chars": { "mode": "fixed", "value": 240 }
		}},

		{ "id": "logger", "type": "loggerresource" }
	]
}
